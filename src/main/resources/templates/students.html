<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Student Registry App</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">

    <!-- Add Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">

    <!-- Add Bootstrap Datepicker CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.min.css">

    <!-- Add jQuery (required for Bootstrap Datepicker) -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>

    <!-- Add Bootstrap JS (and Popper.js for Bootstrap 4) -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

    <!-- Add Bootstrap Datepicker JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js"></script>

</head>
<body>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>

    <div>
        <table class="table table-hover">
            <tr>
                <form id="studentForm">
                    <td>
                        <input type="text" class="form-control" name="name" id="nameInput" placeholder="Name" aria-label="name">
                    </td>
                    <td>
                        <input type="text" class="form-control" name="email" id="emailInput" placeholder="Email" aria-label="email">
                    </td>
                    <td>
                        <input type="text" class="form-control" name="dob" id="datepicker" placeholder="DOB" aria-label="dob">
                    </td>
                    <td>
                        <button type="button" class="btn btn-success" onclick="addStudent()" id="addStudentButton">Add</button>
                    </td>
                </form>
            </tr>
        </table>
    </div>
    <div>
        <table class="table table-hover">
            <thead>
            <tr>
                <th scope="col">ID</th>
                <th scope="col">Name</th>
                <th scope="col">Email</th>
                <th scope="col">DOB</th>
                <th scope="col">Action</th>
            </tr>
            </thead>

            <tbody>
                <tr th:each="student : ${studentList}">
                    <th th:text="${student.getId()}" scope="row"></th>
                    <td>
                        <span class="student-name" th:text="${student.getName()}"></span>
                        <input type="text" class="form-control edit-name" th:value="${student.getName()}" style="display:none;">
                    </td>
                    <td>
                        <span class="student-email" th:text="${student.getEmail()}"></span>
                        <input type="text" class="form-control edit-email" th:value="${student.getEmail()}" style="display:none;">
                    </td>
                    <td th:text="${student.getDob()}"></td>
                    <td>
                        <button th:attr="data-student-id=${student.getId()}, data-student-name=${student.getName()}, data-student-email=${student.getEmail()}" type="button" class="btn btn-primary editStudentButton" onclick="enableEdit(this)">Edit</button>
                        <button th:attr="data-student-id=${student.getId()}" type="button" class="btn btn-success updateStudentButton" onclick="updateStudent(this)" style="display:none;">Update</button>
                        <button th:attr="data-student-id=${student.getId()}" type="button" class="btn btn-danger deleteStudentButton" onclick="deleteStudent(this)">Delete</button>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <!-- Other HTML content -->
    <script src="/student.js"></script>



</body>
</html>